(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{56:function(e,t,n){e.exports=n(90)},61:function(e,t,n){},62:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),i=(n(61),n(6)),l=n(7),u=n(9),s=n(8),m=n(10),p=(n(62),n(91)),b=n(54),h=n(30),d=n.n(h),f=n(46),j=n(94),O=n(27),g=n(92),v=n(93),E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:""},n.onSubmit=function(e){e.preventDefault();var t=Object(O.a)({},n.state);n.props.onSubmit(t)},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(g.a,{onSubmit:this.onSubmit},r.a.createElement(g.a.Group,{controlId:"formBasicEmail"},r.a.createElement(g.a.Label,null,"Login"),r.a.createElement(g.a.Control,{required:!0,type:"text",placeholder:"Enter login",onChange:function(t){return e.setState({login:t.target.value})}}),r.a.createElement(g.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(g.a.Group,{controlId:"formBasicPassword"},r.a.createElement(g.a.Label,null,"Password"),r.a.createElement(g.a.Control,{required:!0,type:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement(v.a,{variant:"primary",type:"submit"},"Submit"))}}]),t}(r.a.Component),y="app/auth/login",w="app/auth/logout";var k,C=n(19),S=n(18),x=function(e){return e.get("auth")},_=function(){return Object(S.a)(x,function(e){return e.is_logged})},B=n(50),A=n.n(B),L=a.createContext({client:null}),N=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={client:null},n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=A.a.create({baseURL:"http://localhost"});e.interceptors.response.use(function(e){return e},function(e){}),this.setState({client:e})}},{key:"render",value:function(){return r.a.createElement(L.Provider,{value:{client:this.state.client}},this.props.children)}}]),t}(r.a.Component),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(){var e=Object(f.a)(d.a.mark(function e(t){var a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.client.post("/login/email",t);case 2:(a=e.sent)&&a.data&&a.data.status&&n.props.login();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props),this.props.is_logged?r.a.createElement(b.a,{to:"/"}):r.a.createElement(p.a,null,r.a.createElement(j.a,{className:"mt-5"},r.a.createElement(j.a.Body,null,r.a.createElement(E,{onSubmit:this.onSubmit}))))}}]),t}(r.a.Component),W=Object(S.a)(_(),function(e){return{is_logged:e}}),I=(k=Object(C.b)(W,function(e){return{login:function(){return e({type:y})},dispatch:e}})(P),function(e){return r.a.createElement(L.Consumer,null,function(t){return r.a.createElement(k,Object.assign({},e,t))})}),J=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement(j.a,{className:"mt-5"},r.a.createElement(j.a.Body,null,"Welcome!")))}}]),t}(r.a.Component),q=n(16),D=n(53),G=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=e.is_logged,r=Object(D.a)(e,["component","is_logged"]);return a.createElement(b.b,Object.assign({},r,{render:function(e){return n?a.createElement(t,e):a.createElement(b.a,{to:"/login"})}}))}}]),t}(a.Component),R=Object(S.a)(_(),function(e){return{is_logged:e}}),M=Object(C.b)(R)(G),T=Object(q.a)(),U=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(b.c,{history:T},r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",render:function(){return r.a.createElement(b.a,{to:"/dashboard"})},exact:!0}),r.a.createElement(b.b,{path:"/login",component:I,exact:!0}),r.a.createElement(M,{path:"/dashboard",component:J})))}}]),t}(r.a.Component),$=n(26),z=n(24),F=n(52),H={is_logged:!1};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H;switch((arguments.length>1?arguments[1]:void 0).type){case y:return{is_logged:!0};case w:return{is_logged:!1};default:return e}}var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object($.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(F.combineReducers)(Object(O.a)({auth:K},e))}(),Object(z.fromJS)(e))}(),V=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(C.a,{store:Q},r.a.createElement(N,{store:Q},r.a.createElement(p.a,{className:"App"},r.a.createElement(U,null))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[56,1,2]]]);
//# sourceMappingURL=main.cb59ac46.chunk.js.map